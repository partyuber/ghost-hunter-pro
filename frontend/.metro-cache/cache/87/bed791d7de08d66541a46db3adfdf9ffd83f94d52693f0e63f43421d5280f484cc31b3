{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getPermissionsAsync = getPermissionsAsync;\n  exports.requestPermissionsAsync = requestPermissionsAsync;\n  exports.getRequestPermission = getRequestPermission;\n  exports.assertSensorEventEnabledAsync = assertSensorEventEnabledAsync;\n  exports.isSensorEnabledAsync = isSensorEnabledAsync;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  async function getPermissionsAsync() {\n    // We can infer from the requestor if this is an older browser.\n    const status = getRequestPermission() ? _expoModulesCore.PermissionStatus.UNDETERMINED : isIOS() ? _expoModulesCore.PermissionStatus.DENIED : _expoModulesCore.PermissionStatus.GRANTED;\n    return {\n      status,\n      expires: 'never',\n      canAskAgain: true,\n      granted: status === _expoModulesCore.PermissionStatus.GRANTED\n    };\n  }\n  async function requestPermissionsAsync() {\n    const status = await askSensorPermissionAsync();\n    return {\n      status,\n      expires: 'never',\n      granted: status === _expoModulesCore.PermissionStatus.GRANTED,\n      canAskAgain: false\n    };\n  }\n  async function askSensorPermissionAsync() {\n    const requestPermission = getRequestPermission();\n    // Technically this is incorrect because it doesn't account for iOS 12.2 Safari.\n    // But unfortunately we can only abstract so much.\n    if (!requestPermission) return _expoModulesCore.PermissionStatus.GRANTED;\n    // If this isn't invoked in a touch-event then it never resolves.\n    // Safari probably should throw an error but because it doesn't we have no way of informing the developer.\n    const status = await requestPermission();\n    switch (status) {\n      case 'granted':\n        return _expoModulesCore.PermissionStatus.GRANTED;\n      case 'denied':\n        return _expoModulesCore.PermissionStatus.DENIED;\n      default:\n        return _expoModulesCore.PermissionStatus.UNDETERMINED;\n    }\n  }\n  function getRequestPermission() {\n    if (!_expoModulesCore.Platform.isDOMAvailable) {\n      return null;\n    }\n    if (typeof DeviceMotionEvent !== 'undefined' && !!DeviceMotionEvent?.requestPermission) {\n      return DeviceMotionEvent.requestPermission;\n    } else if (typeof DeviceOrientationEvent !== 'undefined' && !!DeviceOrientationEvent?.requestPermission) {\n      return DeviceOrientationEvent.requestPermission;\n    }\n    return null;\n  }\n  class PermissionError extends Error {\n    constructor(eventName) {\n      let errorMessage = `Cannot observe event: ${eventName}. How to fix:`;\n      errorMessage += `\\n- Ensure you've requested the \\`MOTION\\` permission via expo-permissions (this must be done in a touch event).`;\n      if (location.protocol !== 'https:') {\n        errorMessage += '\\n- Ensure that you are hosting with `https` as DeviceMotion and DeviceOrientation are now secure APIs.';\n      }\n      // is iOS and doesn't support requesting permissions, must be 12.2\n      if (isIOS() && !getRequestPermission()) {\n        errorMessage += '\\n- On iOS 12.2, you must manually enable device orientation in `Settings > Safari > Motion & Orientation Access`.';\n      }\n      super(errorMessage);\n    }\n  }\n  // iOS 12.2 disables DeviceMotion by default now\n  // https://github.com/w3c/deviceorientation/issues/57\n  async function assertSensorEventEnabledAsync(eventName, timeout) {\n    if (!_expoModulesCore.Platform.isDOMAvailable) {\n      return false;\n    }\n    if (getRequestPermission()) {\n      if (await isSensorEnabledAsync(eventName, timeout)) {\n        return true;\n      }\n      throw new PermissionError(eventName);\n    }\n    return true;\n  }\n  // throw error if the sensor is disabled.\n  async function isSensorEnabledAsync(eventName,\n  // Initial interval tests found results on a median of\n  // devicemotion:\n  // - iPhone 7 Plus: 166.6666753590107ms\n  // - iPhone X: 166.6666753590107ms\n  // deviceorientation:\n  // -\n  //\n  // The initial launch of iOS Safari onto a page calling this API seems to take a little longer than a regular call.\n  // devicemotion:\n  // - ~35ms\n  // deviceorientation:\n  // - ~45ms\n  //\n  timeout = 250) {\n    if (!_expoModulesCore.Platform.isDOMAvailable) {\n      return false;\n    }\n    // If there is no method to request permission then the device has access to device motion.\n    // Older versions of iOS have no method but still disable motion so we should always check on iOS.\n    if (!isIOS && !getRequestPermission()) {\n      return true;\n    }\n    return new Promise(resolve => {\n      const id = setTimeout(() => {\n        window.removeEventListener(eventName, listener);\n        resolve(false);\n      }, timeout);\n      const listener = () => {\n        clearTimeout(id);\n        window.removeEventListener(eventName, listener);\n        resolve(true);\n      };\n      window.addEventListener(eventName, listener);\n    });\n  }\n  // https://stackoverflow.com/a/9039885/4047926\n  function isIOS() {\n    const isIOSUA = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n    // @ts-expect-error - We don't have Internet Explorer 11 types, and would like to keep it that way\n    const isIE11 = !!window['MSStream'];\n    return isIOSUA && !isIE11;\n  }\n});","lineCount":132,"map":[[7,2,2,0,"exports"],[7,9,2,0],[7,10,2,0,"getPermissionsAsync"],[7,29,2,0],[7,32,2,0,"getPermissionsAsync"],[7,51,2,0],[8,2,16,0,"exports"],[8,9,16,0],[8,10,16,0,"requestPermissionsAsync"],[8,33,16,0],[8,36,16,0,"requestPermissionsAsync"],[8,59,16,0],[9,2,43,0,"exports"],[9,9,43,0],[9,10,43,0,"getRequestPermission"],[9,30,43,0],[9,33,43,0,"getRequestPermission"],[9,53,43,0],[10,2,74,0,"exports"],[10,9,74,0],[10,10,74,0,"assertSensorEventEnabledAsync"],[10,39,74,0],[10,42,74,0,"assertSensorEventEnabledAsync"],[10,71,74,0],[11,2,87,0,"exports"],[11,9,87,0],[11,10,87,0,"isSensorEnabledAsync"],[11,30,87,0],[11,33,87,0,"isSensorEnabledAsync"],[11,53,87,0],[12,2,1,0],[12,6,1,0,"_expoModulesCore"],[12,22,1,0],[12,25,1,0,"require"],[12,32,1,0],[12,33,1,0,"_dependencyMap"],[12,47,1,0],[13,2,2,7],[13,17,2,22,"getPermissionsAsync"],[13,36,2,41,"getPermissionsAsync"],[13,37,2,41],[13,39,2,44],[14,4,3,4],[15,4,4,4],[15,10,4,10,"status"],[15,16,4,16],[15,19,4,19,"getRequestPermission"],[15,39,4,39],[15,40,4,40],[15,41,4,41],[15,44,5,10,"PermissionStatus"],[15,60,5,26],[15,61,5,26,"PermissionStatus"],[15,77,5,26],[15,78,5,27,"UNDETERMINED"],[15,90,5,39],[15,93,6,10,"isIOS"],[15,98,6,15],[15,99,6,16],[15,100,6,17],[15,103,7,14,"PermissionStatus"],[15,119,7,30],[15,120,7,30,"PermissionStatus"],[15,136,7,30],[15,137,7,31,"DENIED"],[15,143,7,37],[15,146,8,14,"PermissionStatus"],[15,162,8,30],[15,163,8,30,"PermissionStatus"],[15,179,8,30],[15,180,8,31,"GRANTED"],[15,187,8,38],[16,4,9,4],[16,11,9,11],[17,6,10,8,"status"],[17,12,10,14],[18,6,11,8,"expires"],[18,13,11,15],[18,15,11,17],[18,22,11,24],[19,6,12,8,"canAskAgain"],[19,17,12,19],[19,19,12,21],[19,23,12,25],[20,6,13,8,"granted"],[20,13,13,15],[20,15,13,17,"status"],[20,21,13,23],[20,26,13,28,"PermissionStatus"],[20,42,13,44],[20,43,13,44,"PermissionStatus"],[20,59,13,44],[20,60,13,45,"GRANTED"],[21,4,14,4],[21,5,14,5],[22,2,15,0],[23,2,16,7],[23,17,16,22,"requestPermissionsAsync"],[23,40,16,45,"requestPermissionsAsync"],[23,41,16,45],[23,43,16,48],[24,4,17,4],[24,10,17,10,"status"],[24,16,17,16],[24,19,17,19],[24,25,17,25,"askSensorPermissionAsync"],[24,49,17,49],[24,50,17,50],[24,51,17,51],[25,4,18,4],[25,11,18,11],[26,6,19,8,"status"],[26,12,19,14],[27,6,20,8,"expires"],[27,13,20,15],[27,15,20,17],[27,22,20,24],[28,6,21,8,"granted"],[28,13,21,15],[28,15,21,17,"status"],[28,21,21,23],[28,26,21,28,"PermissionStatus"],[28,42,21,44],[28,43,21,44,"PermissionStatus"],[28,59,21,44],[28,60,21,45,"GRANTED"],[28,67,21,52],[29,6,22,8,"canAskAgain"],[29,17,22,19],[29,19,22,21],[30,4,23,4],[30,5,23,5],[31,2,24,0],[32,2,25,0],[32,17,25,15,"askSensorPermissionAsync"],[32,41,25,39,"askSensorPermissionAsync"],[32,42,25,39],[32,44,25,42],[33,4,26,4],[33,10,26,10,"requestPermission"],[33,27,26,27],[33,30,26,30,"getRequestPermission"],[33,50,26,50],[33,51,26,51],[33,52,26,52],[34,4,27,4],[35,4,28,4],[36,4,29,4],[36,8,29,8],[36,9,29,9,"requestPermission"],[36,26,29,26],[36,28,30,8],[36,35,30,15,"PermissionStatus"],[36,51,30,31],[36,52,30,31,"PermissionStatus"],[36,68,30,31],[36,69,30,32,"GRANTED"],[36,76,30,39],[37,4,31,4],[38,4,32,4],[39,4,33,4],[39,10,33,10,"status"],[39,16,33,16],[39,19,33,19],[39,25,33,25,"requestPermission"],[39,42,33,42],[39,43,33,43],[39,44,33,44],[40,4,34,4],[40,12,34,12,"status"],[40,18,34,18],[41,6,35,8],[41,11,35,13],[41,20,35,22],[42,8,36,12],[42,15,36,19,"PermissionStatus"],[42,31,36,35],[42,32,36,35,"PermissionStatus"],[42,48,36,35],[42,49,36,36,"GRANTED"],[42,56,36,43],[43,6,37,8],[43,11,37,13],[43,19,37,21],[44,8,38,12],[44,15,38,19,"PermissionStatus"],[44,31,38,35],[44,32,38,35,"PermissionStatus"],[44,48,38,35],[44,49,38,36,"DENIED"],[44,55,38,42],[45,6,39,8],[46,8,40,12],[46,15,40,19,"PermissionStatus"],[46,31,40,35],[46,32,40,35,"PermissionStatus"],[46,48,40,35],[46,49,40,36,"UNDETERMINED"],[46,61,40,48],[47,4,41,4],[48,2,42,0],[49,2,43,7],[49,11,43,16,"getRequestPermission"],[49,31,43,36,"getRequestPermission"],[49,32,43,36],[49,34,43,39],[50,4,44,4],[50,8,44,8],[50,9,44,9,"Platform"],[50,25,44,17],[50,26,44,17,"Platform"],[50,34,44,17],[50,35,44,18,"isDOMAvailable"],[50,49,44,32],[50,51,44,34],[51,6,45,8],[51,13,45,15],[51,17,45,19],[52,4,46,4],[53,4,47,4],[53,8,47,8],[53,15,47,15,"DeviceMotionEvent"],[53,32,47,32],[53,37,47,37],[53,48,47,48],[53,52,47,52],[53,53,47,53],[53,54,47,54,"DeviceMotionEvent"],[53,71,47,71],[53,73,47,73,"requestPermission"],[53,90,47,90],[53,92,47,92],[54,6,48,8],[54,13,48,15,"DeviceMotionEvent"],[54,30,48,32],[54,31,48,33,"requestPermission"],[54,48,48,50],[55,4,49,4],[55,5,49,5],[55,11,50,9],[55,15,50,13],[55,22,50,20,"DeviceOrientationEvent"],[55,44,50,42],[55,49,50,47],[55,60,50,58],[55,64,51,8],[55,65,51,9],[55,66,51,10,"DeviceOrientationEvent"],[55,88,51,32],[55,90,51,34,"requestPermission"],[55,107,51,51],[55,109,51,53],[56,6,52,8],[56,13,52,15,"DeviceOrientationEvent"],[56,35,52,37],[56,36,52,38,"requestPermission"],[56,53,52,55],[57,4,53,4],[58,4,54,4],[58,11,54,11],[58,15,54,15],[59,2,55,0],[60,2,56,0],[60,8,56,6,"PermissionError"],[60,23,56,21],[60,32,56,30,"Error"],[60,37,56,35],[60,38,56,36],[61,4,57,4,"constructor"],[61,15,57,15,"constructor"],[61,16,57,16,"eventName"],[61,25,57,25],[61,27,57,27],[62,6,58,8],[62,10,58,12,"errorMessage"],[62,22,58,24],[62,25,58,27],[62,50,58,52,"eventName"],[62,59,58,61],[62,74,58,76],[63,6,59,8,"errorMessage"],[63,18,59,20],[63,22,59,24],[63,136,59,138],[64,6,60,8],[64,10,60,12,"location"],[64,18,60,20],[64,19,60,21,"protocol"],[64,27,60,29],[64,32,60,34],[64,40,60,42],[64,42,60,44],[65,8,61,12,"errorMessage"],[65,20,61,24],[65,24,62,16],[65,129,62,121],[66,6,63,8],[67,6,64,8],[68,6,65,8],[68,10,65,12,"isIOS"],[68,15,65,17],[68,16,65,18],[68,17,65,19],[68,21,65,23],[68,22,65,24,"getRequestPermission"],[68,42,65,44],[68,43,65,45],[68,44,65,46],[68,46,65,48],[69,8,66,12,"errorMessage"],[69,20,66,24],[69,24,67,16],[69,140,67,132],[70,6,68,8],[71,6,69,8],[71,11,69,13],[71,12,69,14,"errorMessage"],[71,24,69,26],[71,25,69,27],[72,4,70,4],[73,2,71,0],[74,2,72,0],[75,2,73,0],[76,2,74,7],[76,17,74,22,"assertSensorEventEnabledAsync"],[76,46,74,51,"assertSensorEventEnabledAsync"],[76,47,74,52,"eventName"],[76,56,74,61],[76,58,74,63,"timeout"],[76,65,74,70],[76,67,74,72],[77,4,75,4],[77,8,75,8],[77,9,75,9,"Platform"],[77,25,75,17],[77,26,75,17,"Platform"],[77,34,75,17],[77,35,75,18,"isDOMAvailable"],[77,49,75,32],[77,51,75,34],[78,6,76,8],[78,13,76,15],[78,18,76,20],[79,4,77,4],[80,4,78,4],[80,8,78,8,"getRequestPermission"],[80,28,78,28],[80,29,78,29],[80,30,78,30],[80,32,78,32],[81,6,79,8],[81,10,79,12],[81,16,79,18,"isSensorEnabledAsync"],[81,36,79,38],[81,37,79,39,"eventName"],[81,46,79,48],[81,48,79,50,"timeout"],[81,55,79,57],[81,56,79,58],[81,58,79,60],[82,8,80,12],[82,15,80,19],[82,19,80,23],[83,6,81,8],[84,6,82,8],[84,12,82,14],[84,16,82,18,"PermissionError"],[84,31,82,33],[84,32,82,34,"eventName"],[84,41,82,43],[84,42,82,44],[85,4,83,4],[86,4,84,4],[86,11,84,11],[86,15,84,15],[87,2,85,0],[88,2,86,0],[89,2,87,7],[89,17,87,22,"isSensorEnabledAsync"],[89,37,87,42,"isSensorEnabledAsync"],[89,38,87,43,"eventName"],[89,47,87,52],[90,2,88,0],[91,2,89,0],[92,2,90,0],[93,2,91,0],[94,2,92,0],[95,2,93,0],[96,2,94,0],[97,2,95,0],[98,2,96,0],[99,2,97,0],[100,2,98,0],[101,2,99,0],[102,2,100,0],[103,2,101,0,"timeout"],[103,9,101,7],[103,12,101,10],[103,15,101,13],[103,17,101,15],[104,4,102,4],[104,8,102,8],[104,9,102,9,"Platform"],[104,25,102,17],[104,26,102,17,"Platform"],[104,34,102,17],[104,35,102,18,"isDOMAvailable"],[104,49,102,32],[104,51,102,34],[105,6,103,8],[105,13,103,15],[105,18,103,20],[106,4,104,4],[107,4,105,4],[108,4,106,4],[109,4,107,4],[109,8,107,8],[109,9,107,9,"isIOS"],[109,14,107,14],[109,18,107,18],[109,19,107,19,"getRequestPermission"],[109,39,107,39],[109,40,107,40],[109,41,107,41],[109,43,107,43],[110,6,108,8],[110,13,108,15],[110,17,108,19],[111,4,109,4],[112,4,110,4],[112,11,110,11],[112,15,110,15,"Promise"],[112,22,110,22],[112,23,110,24,"resolve"],[112,30,110,31],[112,34,110,36],[113,6,111,8],[113,12,111,14,"id"],[113,14,111,16],[113,17,111,19,"setTimeout"],[113,27,111,29],[113,28,111,30],[113,34,111,36],[114,8,112,12,"window"],[114,14,112,18],[114,15,112,19,"removeEventListener"],[114,34,112,38],[114,35,112,39,"eventName"],[114,44,112,48],[114,46,112,50,"listener"],[114,54,112,58],[114,55,112,59],[115,8,113,12,"resolve"],[115,15,113,19],[115,16,113,20],[115,21,113,25],[115,22,113,26],[116,6,114,8],[116,7,114,9],[116,9,114,11,"timeout"],[116,16,114,18],[116,17,114,19],[117,6,115,8],[117,12,115,14,"listener"],[117,20,115,22],[117,23,115,25,"listener"],[117,24,115,25],[117,29,115,31],[118,8,116,12,"clearTimeout"],[118,20,116,24],[118,21,116,25,"id"],[118,23,116,27],[118,24,116,28],[119,8,117,12,"window"],[119,14,117,18],[119,15,117,19,"removeEventListener"],[119,34,117,38],[119,35,117,39,"eventName"],[119,44,117,48],[119,46,117,50,"listener"],[119,54,117,58],[119,55,117,59],[120,8,118,12,"resolve"],[120,15,118,19],[120,16,118,20],[120,20,118,24],[120,21,118,25],[121,6,119,8],[121,7,119,9],[122,6,120,8,"window"],[122,12,120,14],[122,13,120,15,"addEventListener"],[122,29,120,31],[122,30,120,32,"eventName"],[122,39,120,41],[122,41,120,43,"listener"],[122,49,120,51],[122,50,120,52],[123,4,121,4],[123,5,121,5],[123,6,121,6],[124,2,122,0],[125,2,123,0],[126,2,124,0],[126,11,124,9,"isIOS"],[126,16,124,14,"isIOS"],[126,17,124,14],[126,19,124,17],[127,4,125,4],[127,10,125,10,"isIOSUA"],[127,17,125,17],[127,20,125,20],[127,41,125,41],[127,42,125,42,"test"],[127,46,125,46],[127,47,125,47,"navigator"],[127,56,125,56],[127,57,125,57,"userAgent"],[127,66,125,66],[127,67,125,67],[128,4,126,4],[129,4,127,4],[129,10,127,10,"isIE11"],[129,16,127,16],[129,19,127,19],[129,20,127,20],[129,21,127,21,"window"],[129,27,127,27],[129,28,127,28],[129,38,127,38],[129,39,127,39],[130,4,128,4],[130,11,128,11,"isIOSUA"],[130,18,128,18],[130,22,128,22],[130,23,128,23,"isIE11"],[130,29,128,29],[131,2,129,0],[132,0,129,1],[132,3]],"functionMap":{"names":["<global>","getPermissionsAsync","requestPermissionsAsync","askSensorPermissionAsync","getRequestPermission","PermissionError","PermissionError#constructor","assertSensorEventEnabledAsync","isSensorEnabledAsync","Promise$argument_0","setTimeout$argument_0","listener","isIOS"],"mappings":"AAA;OCC;CDa;OEC;CFQ;AGC;CHiB;OIC;CJY;AKC;ICC;KDa;CLC;OOG;CPW;OQE;uBCuB;8BCC;SDG;yBEC;SFI;KDE;CRC;AYE;CZK"},"hasCjsExports":false},"type":"js/module"}]}